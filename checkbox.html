<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
	<meta charset="utf-8">
</head>
<body>
<form>
	<fieldset>
	<legend>genre</legend>
		<label ><input type="checkbox" id="all" value="all" checked="true"></input>all</label><br>
		<label ><input type="checkbox" name="type" value="doc" checked="true"></input>doc</label><br>
		<label ><input type="checkbox" name="type" value="crime" checked="true"></input>crime</label><br>
		<label><input type="checkbox" name="type" value="sfi" checked="true"></input>sfi</label><br>
	</fieldset>
</form>
<script type="text/javascript">
	(function() {
		var form = document.getElementsByTagName("form");
		var elements = form[0].elements;
		var all = document.getElementById("all");
		var genre = elements.type;
		console.log(genre[2].value);
		function All(){
			for (var i = genre.length - 1; i >= 0; i--) {
				genre[i].checked = all.checked;
			}
		};
		all.addEventListener("change", All);
		function clear(e){
			var target = e.target;
			if (!target.checked) {
				all.checked =false;
			}
		}

		for (var i = 0; i< genre.length; i++) {
			genre[i].addEventListener("change", clear);
		}

	} )();
</script>
</body>
</html>